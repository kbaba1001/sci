<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>sci.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Sci</span> <span class="project-version">0.2.9-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="dev.html"><div class="inner"><span>Developing SCI</span></div></a></li><li class="depth-1 "><a href="libsci.html"><div class="inner"><span>Libsci</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sci</span></div></div></li><li class="depth-2 branch current"><a href="sci.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><a href="sci.lang.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lang</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="sci.core.html#var-*1"><div class="inner"><span>*1</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-*2"><div class="inner"><span>*2</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-*3"><div class="inner"><span>*3</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-*e"><div class="inner"><span>*e</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-alter-var-root"><div class="inner"><span>alter-var-root</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-binding"><div class="inner"><span>binding</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-copy-ns"><div class="inner"><span>copy-ns</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-copy-var"><div class="inner"><span>copy-var</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-create-ns"><div class="inner"><span>create-ns</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-err"><div class="inner"><span>err</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-eval-form"><div class="inner"><span>eval-form</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-eval-string"><div class="inner"><span>eval-string</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-eval-string*"><div class="inner"><span>eval-string*</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-file"><div class="inner"><span>file</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-fork"><div class="inner"><span>fork</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-format-stacktrace"><div class="inner"><span>format-stacktrace</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-future"><div class="inner"><span>future</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-get-column-number"><div class="inner"><span>get-column-number</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-get-line-number"><div class="inner"><span>get-line-number</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-in"><div class="inner"><span>in</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-init"><div class="inner"><span>init</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-intern"><div class="inner"><span>intern</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-merge-opts"><div class="inner"><span>merge-opts</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-new-dynamic-var"><div class="inner"><span>new-dynamic-var</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-new-macro-var"><div class="inner"><span>new-macro-var</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-new-var"><div class="inner"><span>new-var</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-ns"><div class="inner"><span>ns</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-ns-name"><div class="inner"><span>ns-name</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-out"><div class="inner"><span>out</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-parse-next"><div class="inner"><span>parse-next</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-parse-string"><div class="inner"><span>parse-string</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-pmap"><div class="inner"><span>pmap</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-print-length"><div class="inner"><span>print-length</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-print-level"><div class="inner"><span>print-level</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-print-meta"><div class="inner"><span>print-meta</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-print-readably"><div class="inner"><span>print-readably</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-reader"><div class="inner"><span>reader</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-set.21"><div class="inner"><span>set!</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-stacktrace"><div class="inner"><span>stacktrace</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-with-bindings"><div class="inner"><span>with-bindings</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-with-in-str"><div class="inner"><span>with-in-str</span></div></a></li><li class="depth-1"><a href="sci.core.html#var-with-out-str"><div class="inner"><span>with-out-str</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">sci.core</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-*1"><h3>*1</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-*2"><h3>*2</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-*3"><h3>*3</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-*e"><h3>*e</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-alter-var-root"><h3>alter-var-root</h3><div class="usage"><code>(alter-var-root v f &amp; args)</code></div><div class="doc"><pre class="plaintext">Atomically alters the root binding of sci var v by applying f to its
current value plus any args.</pre></div></div><div class="public anchor" id="var-binding"><h3>binding</h3><h4 class="type">macro</h4><div class="usage"><code>(binding bindings &amp; body)</code></div><div class="doc"><pre class="plaintext">Macro for binding sci vars. Must be called with a vector of sci
dynamic vars to values.</pre></div></div><div class="public anchor" id="var-copy-ns"><h3>copy-ns</h3><h4 class="type">macro</h4><div class="usage"><code>(copy-ns ns-sym sci-ns)</code><code>(copy-ns ns-sym sci-ns opts)</code></div><div class="doc"><pre class="plaintext">Returns map of names to SCI vars as a result of copying public
Clojure vars from ns-sym (a symbol). Attaches sci-ns (result of
sci/create-ns) to meta. Copies :name, :macro :doc, :no-doc
and :argslists metadata.

Options:

- :exclude: a seqable of names to exclude from the
namespace. Defaults to none.

- :copy-meta: a seqable of keywords to copy from the original var
meta.  Use :all instead of a seqable to copy all. Defaults
to [:doc :arglists :macro].

- :exclude-when-meta: seqable of keywords; vars with meta matching
these keys are excluded.  Defaults to [:no-doc :skip-wiki]

The selection of vars is done at compile time which is mostly
important for ClojureScript to not pull in vars into the compiled
JS. Any additional vars can be added after the fact with sci/copy-var
manually.</pre></div></div><div class="public anchor" id="var-copy-var"><h3>copy-var</h3><h4 class="type">macro</h4><div class="usage"><code>(copy-var sym ns)</code></div><div class="doc"><pre class="plaintext">Copies contents from var `sym` to a new sci var. The value `ns` is an
object created with `sci.core/create-ns`.</pre></div></div><div class="public anchor" id="var-create-ns"><h3>create-ns</h3><div class="usage"><code>(create-ns sym)</code><code>(create-ns sym meta)</code></div><div class="doc"><pre class="plaintext">Creates namespace object. Can be used in var metadata.
</pre></div></div><div class="public anchor" id="var-err"><h3>err</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Sci var that represents sci's `clojure.core/*err*`
</pre></div></div><div class="public anchor" id="var-eval-form"><h3>eval-form</h3><div class="usage"><code>(eval-form ctx form)</code></div><div class="doc"><pre class="plaintext">Evaluates form (as produced by `parse-string` or `parse-next`) in the
context of `ctx` (as produced with `init`). To allow namespace
switches, establish root binding of `sci/ns` with `sci/binding` or
`sci/with-bindings.`</pre></div></div><div class="public anchor" id="var-eval-string"><h3>eval-string</h3><div class="usage"><code>(eval-string s)</code><code>(eval-string s opts)</code></div><div class="doc"><pre class="plaintext">Evaluates string `s` as one or multiple Clojure expressions using the Small Clojure Interpreter.

The map `opts` may contain the following:

- `:namespaces`: a map of symbols to namespaces, where a namespace
is a map with symbols to values, e.g.: `{'foo.bar {'x 1}}`. These
namespaces can be used with `require`.

- `:bindings`: `:bindings x` is the same as `:namespaces {'user x}`.

- `:allow`: a seqable of allowed symbols. All symbols, even those
brought in via `:bindings` or `:namespaces` have to be explicitly
enumerated.

- `:deny`: a seqable of disallowed symbols, e.g.: `[loop quote
recur]`.

- `:features`: when provided a non-empty set of keywords, sci will process reader conditionals using these features (e.g. #{:bb}).

- `:env`: an atom with a map in which state from the
evaluation (defined namespaced and vars) will be persisted for
re-use over multiple calls.

- `:disable-arity-checks`: disables arity checks for single-arity
functions.</pre></div></div><div class="public anchor" id="var-eval-string*"><h3>eval-string*</h3><div class="usage"><code>(eval-string* ctx s)</code></div><div class="doc"><pre class="plaintext">Evaluates string `s` in the context of `ctx` (as produced with
`init`).</pre></div></div><div class="public anchor" id="var-file"><h3>file</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Sci var that represents sci's `clojure.core/*file*`
</pre></div></div><div class="public anchor" id="var-fork"><h3>fork</h3><div class="usage"><code>(fork ctx)</code></div><div class="doc"><pre class="plaintext">Forks a context (as produced with `init`) into a new context. Any new
vars created in the new context won't be visible in the original
context.</pre></div></div><div class="public anchor" id="var-format-stacktrace"><h3>format-stacktrace</h3><div class="usage"><code>(format-stacktrace stacktrace)</code></div><div class="doc"><pre class="plaintext">Returns a list of formatted stack trace elements as strings from stacktrace.
</pre></div></div><div class="public anchor" id="var-future"><h3>future</h3><h4 class="type">macro</h4><div class="usage"><code>(future &amp; body)</code></div><div class="doc"><pre class="plaintext">Like clojure.core/future but also conveys sci bindings to the thread.
</pre></div></div><div class="public anchor" id="var-get-column-number"><h3>get-column-number</h3><div class="usage"><code>(get-column-number reader)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-get-line-number"><h3>get-line-number</h3><div class="usage"><code>(get-line-number reader)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-in"><h3>in</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Sci var that represents sci's `clojure.core/*in*`
</pre></div></div><div class="public anchor" id="var-init"><h3>init</h3><div class="usage"><code>(init opts)</code></div><div class="doc"><pre class="plaintext">Creates an initial sci context from given options `opts`. The context
can be used with `eval-string*`. See `eval-string` for available
options. The internal organization of the context is implementation
detail and may change in the future.</pre></div></div><div class="public anchor" id="var-intern"><h3>intern</h3><div class="usage"><code>(intern ctx sci-ns name)</code><code>(intern ctx sci-ns name val)</code></div><div class="doc"><pre class="plaintext">Finds or creates a sci var named by the symbol name in the namespace
ns (which can be a symbol or a sci namespace), setting its root
binding to val if supplied. The namespace must exist in the ctx. The
sci var will adopt any metadata from the name symbol.  Returns the
sci var.</pre></div></div><div class="public anchor" id="var-merge-opts"><h3>merge-opts</h3><div class="usage"><code>(merge-opts ctx opts)</code></div><div class="doc"><pre class="plaintext">Updates a context with opts merged in and returns it.
</pre></div></div><div class="public anchor" id="var-new-dynamic-var"><h3>new-dynamic-var</h3><div class="usage"><code>(new-dynamic-var name)</code><code>(new-dynamic-var name init-val)</code><code>(new-dynamic-var name init-val meta)</code></div><div class="doc"><pre class="plaintext">Same as new-var but adds :dynamic true to meta.
</pre></div></div><div class="public anchor" id="var-new-macro-var"><h3>new-macro-var</h3><div class="usage"><code>(new-macro-var name init-val)</code><code>(new-macro-var name init-val meta)</code></div><div class="doc"><pre class="plaintext">Same as new-var but adds :macro true to meta as well
as :sci/macro true to meta of the fn itself.</pre></div></div><div class="public anchor" id="var-new-var"><h3>new-var</h3><div class="usage"><code>(new-var name)</code><code>(new-var name init-val)</code><code>(new-var name init-val meta)</code></div><div class="doc"><pre class="plaintext">Returns a new sci var.
</pre></div></div><div class="public anchor" id="var-ns"><h3>ns</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Sci var that represents sci's `clojure.core/*ns*`
</pre></div></div><div class="public anchor" id="var-ns-name"><h3>ns-name</h3><div class="usage"><code>(ns-name sci-ns)</code></div><div class="doc"><pre class="plaintext">Returns name of SCI ns as symbol.
</pre></div></div><div class="public anchor" id="var-out"><h3>out</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Sci var that represents sci's `clojure.core/*out*`
</pre></div></div><div class="public anchor" id="var-parse-next"><h3>parse-next</h3><div class="usage"><code>(parse-next ctx reader)</code><code>(parse-next ctx reader opts)</code></div><div class="doc"><pre class="plaintext">Parses next form from reader
</pre></div></div><div class="public anchor" id="var-parse-string"><h3>parse-string</h3><div class="usage"><code>(parse-string ctx s)</code></div><div class="doc"><pre class="plaintext">Parses string `s` in the context of `ctx` (as produced with
`init`).</pre></div></div><div class="public anchor" id="var-pmap"><h3>pmap</h3><div class="usage"><code>(pmap f coll)</code><code>(pmap f coll &amp; colls)</code></div><div class="doc"><pre class="plaintext">Like clojure.core/pmap but also conveys sci bindings to the threads.
</pre></div></div><div class="public anchor" id="var-print-length"><h3>print-length</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Sci var that represents sci's `clojure.core/*print-length*`
</pre></div></div><div class="public anchor" id="var-print-level"><h3>print-level</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Sci var that represents sci's `clojure.core/*print-level*`
</pre></div></div><div class="public anchor" id="var-print-meta"><h3>print-meta</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Sci var that represents sci's `clojure.core/*print-meta*`
</pre></div></div><div class="public anchor" id="var-print-readably"><h3>print-readably</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Sci var that represents sci's `clojure.core/*print-readably*`
</pre></div></div><div class="public anchor" id="var-reader"><h3>reader</h3><div class="usage"><code>(reader x)</code></div><div class="doc"><pre class="plaintext">Coerces x into indexing pushback-reader to be used with
parse-next. Accepts: string or java.io.Reader.</pre></div></div><div class="public anchor" id="var-set.21"><h3>set!</h3><div class="usage"><code>(set! dynamic-var v)</code></div><div class="doc"><pre class="plaintext">Establish thread local binding of dynamic var
</pre></div></div><div class="public anchor" id="var-stacktrace"><h3>stacktrace</h3><div class="usage"><code>(stacktrace ex)</code></div><div class="doc"><pre class="plaintext">Returns list of stacktrace element maps from exception, if available.
</pre></div></div><div class="public anchor" id="var-with-bindings"><h3>with-bindings</h3><h4 class="type">macro</h4><div class="usage"><code>(with-bindings bindings-map &amp; body)</code></div><div class="doc"><pre class="plaintext">Macro for binding sci vars. Must be called with map of sci dynamic
vars to values. Used in babashka.</pre></div></div><div class="public anchor" id="var-with-in-str"><h3>with-in-str</h3><h4 class="type">macro</h4><div class="usage"><code>(with-in-str s &amp; body)</code></div><div class="doc"><pre class="plaintext">Evaluates body in a context in which sci's *in* is bound to a fresh
StringReader initialized with the string s.</pre></div></div><div class="public anchor" id="var-with-out-str"><h3>with-out-str</h3><h4 class="type">macro</h4><div class="usage"><code>(with-out-str &amp; body)</code></div><div class="doc"><pre class="plaintext">Evaluates exprs in a context in which sci's *out* is bound to a fresh
StringWriter.  Returns the string created by any nested printing
calls.</pre></div></div></div></body></html>